<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>yt-dlp-wizwam - YouTube Downloader</title>
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="title">yt-dlp-wizwam</h1>
            <p class="subtitle">Advanced YouTube Downloader v{{ version }}</p>
            <nav>
                <a href="/">Download</a>
                <a href="/about">About</a>
                <a href="/settings">Settings</a>
            </nav>
        </header>

        <main>
            <section class="download-section">
                <h2>Download Video</h2>
                
                <form id="download-form">
                    <div class="form-group">
                        <label for="url">Video URL:</label>
                        <input type="text" id="url" name="url" placeholder="https://youtube.com/watch?v=..." required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="quality">Quality:</label>
                            <select id="quality" name="quality">
                                <option value="720p" selected>720p (Recommended)</option>
                                <option value="1080p">1080p</option>
                                <option value="4k">4K</option>
                                <option value="480p">480p</option>
                                <option value="360p">360p</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="video_codec">Video Codec:</label>
                            <select id="video_codec" name="video_codec">
                                <option value="avc1" selected>H.264 (Best Compatibility)</option>
                                <option value="av1">AV1 (Best Compression)</option>
                                <option value="vp9">VP9 (Good Compression)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="audio_codec">Audio Codec:</label>
                            <select id="audio_codec" name="audio_codec">
                                <option value="m4a" selected>AAC (Best Compatibility)</option>
                                <option value="opus">Opus (Best Quality)</option>
                                <option value="mp3">MP3 (Universal)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="audio_only" name="audio_only">
                            Audio Only
                        </label>
                    </div>

                    <button type="submit" id="download-btn" class="btn-download">
                        <span class="btn-progress-bg"></span>
                        <span class="btn-text">Download</span>
                    </button>
                </form>

                <!-- Message box for status updates -->
                <div id="message-box" class="message-box hidden"></div>
            </section>

            <section class="files-section">
                <div class="files-header">
                    <h2>Downloaded Files</h2>
                    <div class="files-controls">
                        <input type="text" id="search-files" placeholder="🔍 Search files..." class="search-input">
                        <select id="sort-files" class="sort-select">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="size-desc">Largest First</option>
                            <option value="size-asc">Smallest First</option>
                        </select>
                        <button id="refresh-files" class="btn-secondary">🔄 Refresh</button>
                    </div>
                </div>
                <div id="files-count" class="files-count"></div>
                <div id="files-list"></div>
            </section>
        </main>

        <footer>
            <p>Don't Panic! 🚀 | Powered by yt-dlp</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
